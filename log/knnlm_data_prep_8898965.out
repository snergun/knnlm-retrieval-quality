Collecting datasets
  Downloading datasets-3.1.0-py3-none-any.whl.metadata (20 kB)
Collecting filelock (from datasets)
  Downloading filelock-3.16.1-py3-none-any.whl.metadata (2.9 kB)
Requirement already satisfied: numpy>=1.17 in /scratch/bcyi/esenergun/knnlm/lib/python3.8/site-packages (from datasets) (1.24.4)
Collecting pyarrow>=15.0.0 (from datasets)
  Downloading pyarrow-17.0.0-cp38-cp38-manylinux_2_28_x86_64.whl.metadata (3.3 kB)
Collecting dill<0.3.9,>=0.3.0 (from datasets)
  Downloading dill-0.3.8-py3-none-any.whl.metadata (10 kB)
Collecting pandas (from datasets)
  Downloading pandas-2.0.3-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (18 kB)
Collecting requests>=2.32.2 (from datasets)
  Downloading requests-2.32.3-py3-none-any.whl.metadata (4.6 kB)
Requirement already satisfied: tqdm>=4.66.3 in /scratch/bcyi/esenergun/knnlm/lib/python3.8/site-packages (from datasets) (4.67.1)
Collecting xxhash (from datasets)
  Downloading xxhash-3.5.0-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (12 kB)
Collecting multiprocess<0.70.17 (from datasets)
  Downloading multiprocess-0.70.16-py38-none-any.whl.metadata (7.1 kB)
Collecting fsspec<=2024.9.0,>=2023.1.0 (from fsspec[http]<=2024.9.0,>=2023.1.0->datasets)
  Downloading fsspec-2024.9.0-py3-none-any.whl.metadata (11 kB)
Collecting aiohttp (from datasets)
  Downloading aiohttp-3.10.11-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (7.7 kB)
Collecting huggingface-hub>=0.23.0 (from datasets)
  Downloading huggingface_hub-0.30.1-py3-none-any.whl.metadata (13 kB)
Requirement already satisfied: packaging in /scratch/bcyi/esenergun/knnlm/lib/python3.8/site-packages (from datasets) (24.2)
Collecting pyyaml>=5.1 (from datasets)
  Downloading PyYAML-6.0.2-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (2.1 kB)
Collecting aiohappyeyeballs>=2.3.0 (from aiohttp->datasets)
  Downloading aiohappyeyeballs-2.4.4-py3-none-any.whl.metadata (6.1 kB)
Collecting aiosignal>=1.1.2 (from aiohttp->datasets)
  Downloading aiosignal-1.3.1-py3-none-any.whl.metadata (4.0 kB)
Collecting attrs>=17.3.0 (from aiohttp->datasets)
  Downloading attrs-25.3.0-py3-none-any.whl.metadata (10 kB)
Collecting frozenlist>=1.1.1 (from aiohttp->datasets)
  Downloading frozenlist-1.5.0-cp38-cp38-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (13 kB)
Collecting multidict<7.0,>=4.5 (from aiohttp->datasets)
  Downloading multidict-6.1.0-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (5.0 kB)
Collecting yarl<2.0,>=1.12.0 (from aiohttp->datasets)
  Downloading yarl-1.15.2-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (56 kB)
Collecting async-timeout<6.0,>=4.0 (from aiohttp->datasets)
  Downloading async_timeout-5.0.1-py3-none-any.whl.metadata (5.1 kB)
Requirement already satisfied: typing-extensions>=3.7.4.3 in /scratch/bcyi/esenergun/knnlm/lib/python3.8/site-packages (from huggingface-hub>=0.23.0->datasets) (4.12.2)
Collecting charset-normalizer<4,>=2 (from requests>=2.32.2->datasets)
  Downloading charset_normalizer-3.4.1-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (35 kB)
Collecting idna<4,>=2.5 (from requests>=2.32.2->datasets)
  Downloading idna-3.10-py3-none-any.whl.metadata (10 kB)
Collecting urllib3<3,>=1.21.1 (from requests>=2.32.2->datasets)
  Downloading urllib3-2.2.3-py3-none-any.whl.metadata (6.5 kB)
Collecting certifi>=2017.4.17 (from requests>=2.32.2->datasets)
  Downloading certifi-2025.1.31-py3-none-any.whl.metadata (2.5 kB)
Collecting python-dateutil>=2.8.2 (from pandas->datasets)
  Downloading python_dateutil-2.9.0.post0-py2.py3-none-any.whl.metadata (8.4 kB)
Collecting pytz>=2020.1 (from pandas->datasets)
  Downloading pytz-2025.2-py2.py3-none-any.whl.metadata (22 kB)
Collecting tzdata>=2022.1 (from pandas->datasets)
  Downloading tzdata-2025.2-py2.py3-none-any.whl.metadata (1.4 kB)
Collecting six>=1.5 (from python-dateutil>=2.8.2->pandas->datasets)
  Downloading six-1.17.0-py2.py3-none-any.whl.metadata (1.7 kB)
Collecting propcache>=0.2.0 (from yarl<2.0,>=1.12.0->aiohttp->datasets)
  Downloading propcache-0.2.0-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (7.7 kB)
Downloading datasets-3.1.0-py3-none-any.whl (480 kB)
Downloading dill-0.3.8-py3-none-any.whl (116 kB)
Downloading fsspec-2024.9.0-py3-none-any.whl (179 kB)
Downloading aiohttp-3.10.11-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (1.3 MB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 1.3/1.3 MB 47.3 MB/s eta 0:00:00
Downloading huggingface_hub-0.30.1-py3-none-any.whl (481 kB)
Downloading multiprocess-0.70.16-py38-none-any.whl (132 kB)
Downloading pyarrow-17.0.0-cp38-cp38-manylinux_2_28_x86_64.whl (40.0 MB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 40.0/40.0 MB 199.6 MB/s eta 0:00:00
Downloading PyYAML-6.0.2-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (746 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 746.5/746.5 kB 27.6 MB/s eta 0:00:00
Downloading requests-2.32.3-py3-none-any.whl (64 kB)
Downloading filelock-3.16.1-py3-none-any.whl (16 kB)
Downloading pandas-2.0.3-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (12.4 MB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 12.4/12.4 MB 149.3 MB/s eta 0:00:00
Downloading xxhash-3.5.0-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (194 kB)
Downloading aiohappyeyeballs-2.4.4-py3-none-any.whl (14 kB)
Downloading aiosignal-1.3.1-py3-none-any.whl (7.6 kB)
Downloading async_timeout-5.0.1-py3-none-any.whl (6.2 kB)
Downloading attrs-25.3.0-py3-none-any.whl (63 kB)
Downloading certifi-2025.1.31-py3-none-any.whl (166 kB)
Downloading charset_normalizer-3.4.1-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (144 kB)
Downloading frozenlist-1.5.0-cp38-cp38-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_17_x86_64.manylinux2014_x86_64.whl (243 kB)
Downloading idna-3.10-py3-none-any.whl (70 kB)
Downloading multidict-6.1.0-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (129 kB)
Downloading python_dateutil-2.9.0.post0-py2.py3-none-any.whl (229 kB)
Downloading pytz-2025.2-py2.py3-none-any.whl (509 kB)
Downloading tzdata-2025.2-py2.py3-none-any.whl (347 kB)
Downloading urllib3-2.2.3-py3-none-any.whl (126 kB)
Downloading yarl-1.15.2-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (319 kB)
Downloading propcache-0.2.0-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (213 kB)
Downloading six-1.17.0-py2.py3-none-any.whl (11 kB)
Installing collected packages: pytz, xxhash, urllib3, tzdata, six, pyyaml, pyarrow, propcache, multidict, idna, fsspec, frozenlist, filelock, dill, charset-normalizer, certifi, attrs, async-timeout, aiohappyeyeballs, yarl, requests, python-dateutil, multiprocess, aiosignal, pandas, huggingface-hub, aiohttp, datasets
Successfully installed aiohappyeyeballs-2.4.4 aiohttp-3.10.11 aiosignal-1.3.1 async-timeout-5.0.1 attrs-25.3.0 certifi-2025.1.31 charset-normalizer-3.4.1 datasets-3.1.0 dill-0.3.8 filelock-3.16.1 frozenlist-1.5.0 fsspec-2024.9.0 huggingface-hub-0.30.1 idna-3.10 multidict-6.1.0 multiprocess-0.70.16 pandas-2.0.3 propcache-0.2.0 pyarrow-17.0.0 python-dateutil-2.9.0.post0 pytz-2025.2 pyyaml-6.0.2 requests-2.32.3 six-1.17.0 tzdata-2025.2 urllib3-2.2.3 xxhash-3.5.0 yarl-1.15.2

Generating test split:   0%|          | 0/4358 [00:00<?, ? examples/s]
Generating test split:  23%|██▎       | 1000/4358 [00:00<00:00, 9324.65 examples/s]
Generating test split: 100%|██████████| 4358/4358 [00:00<00:00, 38674.27 examples/s]

Generating train split:   0%|          | 0/1801350 [00:00<?, ? examples/s]
Generating train split:   4%|▍         | 70000/1801350 [00:00<00:04, 381591.27 examples/s]
Generating train split:   9%|▉         | 171000/1801350 [00:00<00:02, 655307.37 examples/s]
Generating train split:  15%|█▌        | 271000/1801350 [00:00<00:01, 785934.10 examples/s]
Generating train split:  20%|██        | 368000/1801350 [00:00<00:01, 845044.79 examples/s]
Generating train split:  26%|██▌       | 471000/1801350 [00:00<00:01, 887263.76 examples/s]
Generating train split:  32%|███▏      | 576000/1801350 [00:00<00:01, 920039.93 examples/s]
Generating train split:  38%|███▊      | 684000/1801350 [00:00<00:01, 954923.22 examples/s]
Generating train split:  46%|████▌     | 829000/1801350 [00:00<00:01, 954344.03 examples/s]
Generating train split:  52%|█████▏    | 929675/1801350 [00:01<00:00, 960618.25 examples/s]
Generating train split:  57%|█████▋    | 1027675/1801350 [00:01<00:00, 962270.90 examples/s]
Generating train split:  63%|██████▎   | 1129675/1801350 [00:01<00:00, 977347.23 examples/s]
Generating train split:  68%|██████▊   | 1229675/1801350 [00:01<00:00, 972961.69 examples/s]
Generating train split:  74%|███████▍  | 1336675/1801350 [00:01<00:00, 979356.02 examples/s]
Generating train split:  80%|███████▉  | 1437675/1801350 [00:01<00:00, 986113.79 examples/s]
Generating train split:  88%|████████▊ | 1589675/1801350 [00:01<00:00, 993265.76 examples/s]
Generating train split:  95%|█████████▍| 1705675/1801350 [00:01<00:00, 865340.62 examples/s]
Generating train split: 100%|██████████| 1801350/1801350 [00:02<00:00, 795877.18 examples/s]
Generating train split: 100%|██████████| 1801350/1801350 [00:02<00:00, 879270.49 examples/s]

Generating validation split:   0%|          | 0/3760 [00:00<?, ? examples/s]
Generating validation split: 100%|██████████| 3760/3760 [00:00<00:00, 31829.03 examples/s]
Generating validation split: 100%|██████████| 3760/3760 [00:00<00:00, 31341.77 examples/s]
Wikitext-103 dataset has been successfully saved.
Traceback (most recent call last):
  File "preprocess.py", line 7, in <module>
    from fairseq_cli.preprocess import cli_main
  File "/work/hdd/bcyi/eergun/knnlm-retrieval-quality/fairseq_cli/preprocess.py", line 18, in <module>
    from fairseq import options, tasks, utils
  File "/work/hdd/bcyi/eergun/knnlm-retrieval-quality/fairseq/__init__.py", line 9, in <module>
    import fairseq.criterions  # noqa
  File "/work/hdd/bcyi/eergun/knnlm-retrieval-quality/fairseq/criterions/__init__.py", line 10, in <module>
    from fairseq.criterions.fairseq_criterion import FairseqCriterion
  File "/work/hdd/bcyi/eergun/knnlm-retrieval-quality/fairseq/criterions/fairseq_criterion.py", line 10, in <module>
    from fairseq import metrics, utils
  File "/work/hdd/bcyi/eergun/knnlm-retrieval-quality/fairseq/utils.py", line 21, in <module>
    from fairseq.modules import gelu, gelu_accurate
  File "/work/hdd/bcyi/eergun/knnlm-retrieval-quality/fairseq/modules/__init__.py", line 9, in <module>
    from .character_token_embedder import CharacterTokenEmbedder
  File "/work/hdd/bcyi/eergun/knnlm-retrieval-quality/fairseq/modules/character_token_embedder.py", line 13, in <module>
    from fairseq.data import Dictionary
  File "/work/hdd/bcyi/eergun/knnlm-retrieval-quality/fairseq/data/__init__.py", line 20, in <module>
    from .indexed_dataset import IndexedCachedDataset, IndexedDataset, IndexedRawTextDataset, MMapIndexedDataset
  File "/work/hdd/bcyi/eergun/knnlm-retrieval-quality/fairseq/data/indexed_dataset.py", line 89, in <module>
    6: np.float,
  File "/scratch/bcyi/esenergun/knnlm/lib/python3.8/site-packages/numpy/__init__.py", line 305, in __getattr__
    raise AttributeError(__former_attrs__[attr])
AttributeError: module 'numpy' has no attribute 'float'.
`np.float` was a deprecated alias for the builtin `float`. To avoid this error in existing code, use `float` by itself. Doing this will not modify any behavior and is safe. If you specifically wanted the numpy scalar type, use `np.float64` here.
The aliases was originally deprecated in NumPy 1.20; for more details and guidance see the original release note at:
    https://numpy.org/devdocs/release/1.20.0-notes.html#deprecations
